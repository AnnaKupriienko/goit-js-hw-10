{"version":3,"file":"commonHelpers.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst calendar = document.getElementById(\"datetime-picker\")\nconst btnStart = document.querySelector(\"[data-start]\")\nconst currentDays = document.querySelector(\"[data-days]\")\nconst currentHours = document.querySelector(\"[data-hours]\")\nconst currentMinutes = document.querySelector(\"[data-minutes]\")\nconst currentSeconds = document.querySelector(\"[data-seconds]\")\n\n\nbtnStart.addEventListener(\"click\", () => {\n    btnStart.disabled = true;\n    calendar.disabled = true;\n    startTimer()\n});\nbtnStart.disabled = true; \nlet userSelectedDate;\nlet delta;\nlet interval;\n\nconst options = {\n    enableTime: true,\n    time_24hr: true,\n    defaultDate: new Date(),\n    minuteIncrement: 1,\n  \n    onClose(selectedDates) {\n        userSelectedDate = new Date(selectedDates[0]).getTime();\n        const currentDate = Date.now();\n        if (userSelectedDate < currentDate) {\n            btnStart.disabled = true;\n            iziToast.error({\n                title: 'Error',\n                fontSize: 'large',\n                close: false,\n                position: 'bottomRight',\n                messageColor: 'black',\n                timeout: 3000,\n                backgroundColor: 'red',\n                message: '\"Please choose a date in the future\"',\n            });\n        }\n        else {\n            btnStart.disabled = false;\n            delta = userSelectedDate - currentDate;\n            updateClockFace(convertMs(delta))\n            console.log(updateClockFace)\n        };\n    }\n};\n    \nflatpickr(calendar, options);\n\n\nfunction timer() { \n    if (delta > 1000) {\n        delta -= 1000;\n        updateClockFace(convertMs(delta));\n    }\n    else {\n        clearInterval(interval);\n        calendar.disabled = false;\n    }\n}\n\nfunction startTimer() {\n    clearInterval(interval);\n    interval = setInterval(timer, 1000);\n \n}\n\nfunction updateClockFace({ days, hours, minutes, seconds }) {\n    currentDays.textContent = `${days}`;\n    currentHours.textContent = `${hours}`;\n    currentMinutes.textContent = `${minutes}`;\n    currentSeconds.textContent = `${seconds}`;\n} \n\nfunction pad (value) {\n    return String(value).padStart(2, \"0\");\n}\n\nfunction convertMs(ms) {\n    // Number of milliseconds per unit of time\n    const second = 1000;\n    const minute = second * 60;\n    const hour = minute * 60;\n    const day = hour * 24;\n\n    // Remaining days\n    const days = pad(Math.floor(ms / day));\n    // Remaining hours\n    const hours = pad(Math.floor((ms % day) / hour));\n    // Remaining minutes\n    const minutes = pad(Math.floor(((ms % day) % hour) / minute));\n    // Remaining seconds\n    const seconds = pad(Math.floor((((ms % day) % hour) % minute) / second));\n    return { days, hours, minutes, seconds };\n}\n\n"],"names":["calendar","btnStart","currentDays","currentHours","currentMinutes","currentSeconds","startTimer","userSelectedDate","delta","interval","options","selectedDates","currentDate","iziToast","updateClockFace","convertMs","flatpickr","timer","days","hours","minutes","seconds","pad","value","ms"],"mappings":"2FAKA,MAAMA,EAAW,SAAS,eAAe,iBAAiB,EACpDC,EAAW,SAAS,cAAc,cAAc,EAChDC,EAAc,SAAS,cAAc,aAAa,EAClDC,EAAe,SAAS,cAAc,cAAc,EACpDC,EAAiB,SAAS,cAAc,gBAAgB,EACxDC,EAAiB,SAAS,cAAc,gBAAgB,EAG9DJ,EAAS,iBAAiB,QAAS,IAAM,CACrCA,EAAS,SAAW,GACpBD,EAAS,SAAW,GACpBM,EAAY,CAChB,CAAC,EACDL,EAAS,SAAW,GACpB,IAAIM,EACAC,EACAC,EAEJ,MAAMC,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EAEjB,QAAQC,EAAe,CACnBJ,EAAmB,IAAI,KAAKI,EAAc,CAAC,CAAC,EAAE,UAC9C,MAAMC,EAAc,KAAK,MACrBL,EAAmBK,GACnBX,EAAS,SAAW,GACpBY,EAAS,MAAM,CACX,MAAO,QACP,SAAU,QACV,MAAO,GACP,SAAU,cACV,aAAc,QACd,QAAS,IACT,gBAAiB,MACjB,QAAS,sCACzB,CAAa,IAGDZ,EAAS,SAAW,GACpBO,EAAQD,EAAmBK,EAC3BE,EAAgBC,EAAUP,CAAK,CAAC,EAChC,QAAQ,IAAIM,CAAe,EAElC,CACL,EAEAE,EAAUhB,EAAUU,CAAO,EAG3B,SAASO,GAAQ,CACTT,EAAQ,KACRA,GAAS,IACTM,EAAgBC,EAAUP,CAAK,CAAC,IAGhC,cAAcC,CAAQ,EACtBT,EAAS,SAAW,GAE5B,CAEA,SAASM,GAAa,CAClB,cAAcG,CAAQ,EACtBA,EAAW,YAAYQ,EAAO,GAAI,CAEtC,CAEA,SAASH,EAAgB,CAAE,KAAAI,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,EAAI,CACxDnB,EAAY,YAAc,GAAGgB,CAAI,GACjCf,EAAa,YAAc,GAAGgB,CAAK,GACnCf,EAAe,YAAc,GAAGgB,CAAO,GACvCf,EAAe,YAAc,GAAGgB,CAAO,EAC3C,CAEA,SAASC,EAAKC,EAAO,CACjB,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACxC,CAEA,SAASR,EAAUS,EAAI,CAQnB,MAAMN,EAAOI,EAAI,KAAK,MAAME,EAAK,KAAG,CAAC,EAE/BL,EAAQG,EAAI,KAAK,MAAOE,EAAK,MAAO,IAAI,CAAC,EAEzCJ,EAAUE,EAAI,KAAK,MAAQE,EAAK,MAAO,KAAQ,GAAM,CAAC,EAEtDH,EAAUC,EAAI,KAAK,MAASE,EAAK,MAAO,KAAQ,IAAU,GAAM,CAAC,EACvE,MAAO,CAAE,KAAAN,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CAC1C"}